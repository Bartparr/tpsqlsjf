<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>Profile</title>
        <h:outputStylesheet library="#{profileBean.theme}" name="css/principal.css"/>
    </h:head>
    <h:body>        
        <c:if test="#{profileBean.header=='yes'}">
           <ui:insert name="header"/>
           <ui:include src="template/header.xhtml"></ui:include>        
        </c:if>
        <ui:insert name="menu"/>
        <ui:include src="template/menu.xhtml"></ui:include>  
        <div class="form">  
            <div class="form_legend">
            <h3 >Profil</h3>
            </div>
            <h:form>
               <fieldset class="form_fieldset">                  
                            <fieldset class="form_fieldset">
                            <label>Choisissez votre thème: </label> <br/>
                            <h:selectOneRadio required="true" value="#{profileBean.theme}">
                            <f:selectItem class="form__answer" itemValue="dark" itemLabel="dark" />
                            <f:selectItem class="form__answer" itemValue="light" itemLabel="light" />
                            <f:selectItem class="form__answer" itemValue="christmas" itemLabel="christmas" />
                            </h:selectOneRadio>
                            </fieldset>
                            <fieldset class="form_fieldset">
                            <label>Voulez vous un en-tête ?</label> <br/>
                            <h:selectOneRadio required="true" value="#{profileBean.header}">
                            <f:selectItem class="form__answer" itemValue="yes" itemLabel="yes" />
                            <f:selectItem class="form__answer" itemValue="no" itemLabel="no" />
                            </h:selectOneRadio>
                            </fieldset>
                            <h:commandButton class="form__button" type="submit" value = "enregistrer le profil" action="#{profileBean.setProfile(profileBean.theme,currentUser.getId())}"/>                 
                            
               </fieldset>   
               </h:form>
        </div>
        
        <div>Le thème que vous avez choisi est: #{profileBean.theme} </div>
        <div>Le header que vous avez choisi est: #{profileBean.header} </div>
    </h:body>
</html>

